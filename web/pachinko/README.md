See crack.js for my soln.